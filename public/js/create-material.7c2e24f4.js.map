{"version":3,"file":"js/create-material.7c2e24f4.js","mappings":"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","sources":["webpack://backend/./src/modules/components/Loader.vue","webpack://backend/./src/modules/components/Loader.vue?0e5a","webpack://backend/./src/modules/home/views/CreateMaterial.vue","webpack://backend/./src/modules/get/getDestination.js","webpack://backend/./src/modules/home/helpers/imageOne.js","webpack://backend/./src/modules/home/composables/createMaterial.js","webpack://backend/./src/modules/home/views/CreateMaterial.vue?d87b"],"sourcesContent":["<template>\n  <div class=\"loader-rev\">\n      <div></div>\n  </div>\n</template>\n\n<script>\nexport default {\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.loader-rev>div {\n  height: 100px;\n  width: 100px;\n  border: 15px solid #45474b;\n  border-top-color: yellow;\n  position: absolute;\n  margin: auto;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 50%;\n  animation: spin 1.5s infinite linear;\n}\n\n@keyframes spin {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n</style>","import { render } from \"./Loader.vue?vue&type=template&id=3b6b4a29&scoped=true\"\nimport script from \"./Loader.vue?vue&type=script&lang=js\"\nexport * from \"./Loader.vue?vue&type=script&lang=js\"\n\nimport \"./Loader.vue?vue&type=style&index=0&id=3b6b4a29&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Gorilla Setups\\\\Desktop\\\\control-proyect\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3b6b4a29\"]])\n\nexport default __exports__","<template>\r\n  <loader v-if=\"status === 'CARGANDO'\" class=\"loader-wrapper\"/>\r\n\r\n  <div v-else class=\"wrapper\">\r\n    <div class=\"material-form\">\r\n      <div class=\"header-form\">\r\n        <h1>Registro</h1>\r\n      </div>\r\n      <div class=\"body body-form\">\r\n        <form @submit.prevent=\"onSubmit\">\r\n          <div class=\"item-form\">\r\n            <p>N° de transporte</p>\r\n            <input\r\n              v-model=\"materialForm.transport_number\"\r\n              type=\"text\"\r\n              maxlength=\"45\"\r\n            />\r\n          </div>\r\n          <div class=\"item-form\">\r\n            <p>Código</p>\r\n            <input v-model=\"materialForm.code\" type=\"text\" maxlength=\"45\" />\r\n          </div>\r\n          <div class=\"item-form\">\r\n            <p>Cantidad</p>\r\n            <input v-model=\"materialForm.cantidad\" type=\"number\" />\r\n          </div>\r\n          <div class=\"item-form\">\r\n            <p>Cantidad de bultos</p>\r\n            <input v-model=\"materialForm.cantidad_bultos\" type=\"number\" />\r\n          </div>\r\n          <div class=\"item-form\">\r\n            <p>Destino</p>\r\n            <select v-model=\"materialForm.destination\">\r\n              <option\r\n                v-for=\"destination of destinations\"\r\n                :key=\"destination.nombre\"\r\n                :value=\"destination.id\"\r\n              >\r\n                {{ destination.nombre }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class=\"item-form image-form\">\r\n            <input\r\n              type=\"file\"\r\n              @change=\"onImageOne\"\r\n              id=\"imageOne\"\r\n              accept=\"image/png, image/jpg, image/ jpeg\"/>\r\n            <div class=\"image-label\">\r\n              <label for=\"imageOne\">Seleccione la imagen</label>\r\n            </div>\r\n            <div v-if=\"localImageOne\" class=\"confirmation\">\r\n              <p>{{ imgOneName }}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"submit-button\">\r\n            <button class=\"btn btn-warning\" type=\"submit\">Registrar</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from \"@vue/reactivity\";\r\nimport Swal from \"sweetalert2\";\r\nimport Loader from \"@/modules/components/Loader.vue\";\r\nimport getDestination from \"../../get/getDestination\";\r\nimport uploadOne from \"../helpers/imageOne\";\r\nimport sendMaterial from \"../composables/createMaterial\";\r\nimport { watch } from \"@vue/runtime-core\";\r\nimport useAuth from '@/modules/auth/composables/useAuth';\r\n\r\nexport default {\r\n  components: { Loader },\r\n  setup() {\r\n\r\n    const localImageOne = ref();\r\n    const imgOneName = ref();\r\n    const imgOne = ref(null);\r\n\r\n    const materialForm = ref({\r\n      transport_number: \"\",\r\n      code: \"\",\r\n      cantidad: \"\",\r\n      cantidad_bultos: \"\",\r\n      destination: \"\",\r\n    });\r\n\r\n    const { userDivision, userId } = useAuth();\r\n\r\n    const { destinations, searchDestinations, status, secondStatus } =\r\n      getDestination();\r\n\r\n    const { sendForum } = sendMaterial();\r\n\r\n    const { uploadImageOne } = uploadOne();\r\n\r\n    watch(\r\n      () => localImageOne.value,\r\n      () => (imgOne.value = localImageOne.value)\r\n    );\r\n\r\n    return {\r\n      localImageOne,\r\n      imgOneName,\r\n      imgOne,\r\n      destinations,\r\n      searchDestinations,\r\n      status,\r\n      secondStatus,\r\n      materialForm,\r\n      uploadImageOne,\r\n      sendForum,\r\n      userId,\r\n\r\n      onSubmit: async () => {\r\n        new Swal({\r\n          title: \"Espere por favor\",\r\n          allowOutsideClick: false,\r\n        });\r\n        Swal.showLoading();\r\n\r\n        const check = materialForm.value;\r\n\r\n        if (\r\n          check.transport_number === \"\" ||\r\n          check.code === \"\" ||\r\n          check.cantidad === \"\" ||\r\n          check.cantidad_bultos === \"\" ||\r\n          check.destination === \"\"\r\n        ) {\r\n          return Swal.fire({\r\n            title: \"Error\",\r\n            text: `Debe completar los campos`,\r\n            icon: \"error\",\r\n          });\r\n        }\r\n        if (imgOne.value === null) {\r\n          return Swal.fire({\r\n            title: \"Error\",\r\n            text: `Debe seleccionar la imagen`,\r\n            icon: \"error\",\r\n          });\r\n        }\r\n\r\n        const pictureOne = await uploadOne(imgOne.value);\r\n\r\n        const { errors, nice, materialId } = await sendForum(\r\n          materialForm.value,\r\n          pictureOne,\r\n          userDivision.value,\r\n          userId.value,\r\n        );\r\n\r\n        if (nice.value === false) {\r\n          Swal.fire({\r\n            title: \"Error\",\r\n            text: `${errors.value}`,\r\n            icon: \"error\",\r\n          });\r\n        } else {\r\n          Swal.fire(\r\n            \"Guardado\",\r\n            `Bulto ${materialId.value} registrado con éxito`,\r\n            \"success\"\r\n          ).then(function (result) {\r\n            if (true) {\r\n              location.reload();\r\n            } else {\r\n              window.alert(\"Error, intente nuevamente\");\r\n            }\r\n          });\r\n        }\r\n      },\r\n\r\n      onImageOne: async (event) => {\r\n        const file = event.target.files[0];\r\n        if (!file) {\r\n          localImageOne.value = null;\r\n          imgOneName.value = null;\r\n          return;\r\n        } else {\r\n          imgOneName.value = file.name;\r\n          const fr = new FileReader();\r\n          fr.onload = () => (localImageOne.value = fr.result);\r\n          fr.readAsDataURL(file);\r\n        }\r\n      },\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\np,\r\nh1 {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.item-form p {\r\n  margin: 4px;\r\n}\r\n\r\n.header-form {\r\n  text-align: center;\r\n}\r\n\r\n.header-form h1 {\r\n  margin: 6px;\r\n}\r\n\r\n.wrapper {\r\n  display: flex;\r\n  height: 100vh;\r\n  width: 100vw;\r\n}\r\n\r\n.material-form {\r\n  border-radius: 4px;\r\n  padding: 8px;\r\n  margin: auto;\r\n  background-color: #fff;\r\n}\r\n\r\n.body-form {\r\n  padding: 2px;\r\n}\r\n\r\n.image-form {\r\n  display: block;\r\n}\r\n\r\n.item-form input {\r\n  width: 100%;\r\n}\r\n\r\n.submit-button {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: 8px;\r\n}\r\n\r\n.submit-button button {\r\n  border-radius: 4px;\r\n}\r\n\r\n.loader-wrapper {\r\n  width: 100vw;\r\n  height: 100vh;\r\n}\r\n\r\ninput[type=\"file\"] {\r\n  display: none;\r\n}\r\n\r\n.image-label {\r\n  margin-top: 1rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.confirmation {\r\n  margin: 4px 0 4px 0;\r\n}\r\n\r\n.confirmation p {\r\n  background-color: black;\r\n  border-radius: 4px;\r\n  color: white;\r\n  text-align: center;\r\n  overflow: hidden;\r\n  max-width: 200px;\r\n  margin: auto;\r\n  cursor: default;\r\n}\r\n\r\nlabel {\r\n  width: 100%;\r\n  height: 30px;\r\n  font-size: 12px;\r\n  color: white;\r\n  background-color: black;\r\n  justify-content: center;\r\n  align-items: center;\r\n  display: flex;\r\n  border-radius: 4px;\r\n\r\n  &:hover {\r\n    background-color: rgba(0, 0, 0, 0.827);\r\n  }\r\n}\r\n</style>","import { ref } from \"vue\";\r\nimport backendConnect from '../../api/backend';\r\n\r\nconst getDestinations = () => {\r\n    \r\n    const destinations = ref(null);\r\n    const status = ref('CARGANDO');\r\n    const secondStatus = ref('CARGANDO');\r\n    \r\n    const searchDestinations = async () => {\r\n\r\n        const {data} = await backendConnect.get('/api/destination ', {\r\n            headers: { 'x-token': localStorage.getItem('token') }\r\n        });\r\n        const destinationsArray = [];\r\n        const destinationsDB = data.destinations;\r\n        for(const destination of destinationsDB) {\r\n            destinationsArray.push(destination)\r\n        };\r\n        destinations.value = destinationsArray;\r\n        status.value = 'RECIBIDO';\r\n        secondStatus.value = 'RECIBIDO';\r\n        return {destinations, ok: true};\r\n    }\r\n    \r\n    searchDestinations();\r\n\r\n    return {\r\n        destinations,\r\n        searchDestinations,\r\n        status,\r\n        secondStatus,\r\n    }\r\n}\r\n\r\nexport default getDestinations;","import axios from \"axios\"\r\n\r\nconst uploadImageOne = async ( imageOne ) => {\r\n\r\n\r\n    if (! imageOne ) return\r\n\r\n    try {\r\n\r\n        const formData = new FormData()\r\n        formData.append('upload_preset', 'tzfir0d9')\r\n        formData.append('file', imageOne)\r\n\r\n\r\n\r\n        const {data} = await axios.post('https://api.cloudinary.com/v1_1/dt4zmocge/image/upload', formData)\r\n\r\n        return data.secure_url\r\n\r\n\r\n\r\n    } catch (error) {\r\n        console.error('Error al cargar el archivo');\r\n        console.log(error);\r\n        return null\r\n    }\r\n\r\n}\r\n\r\nexport default uploadImageOne","import { ref } from \"vue\";\r\nimport backendConnect from \"../../../api/backend\";\r\n\r\nconst sendMaterial = () => {\r\n  const errors = ref(true);\r\n  const materialId = ref(null);\r\n  const nice = ref(false);\r\n\r\n  const sendForum = async (materialForm, imgOne, userDivision, id) => {\r\n\r\n    console.log(id);\r\n\r\n    if (!userDivision) {\r\n      errors.value = \"Error usuario logeado\";\r\n      return { errors, nice, materialId };\r\n    }\r\n\r\n    if (\r\n      materialForm.transport_number === \"\" ||\r\n      materialForm.code === \"\" ||\r\n      materialForm.cantidad === \"\" ||\r\n      materialForm.cantidad_bultos === \"\" ||\r\n      materialForm.destination === \"\"\r\n    ) {\r\n      errors.value = \"Debe llenar los campos\";\r\n      return {errors, materialId, nice};\r\n    } else {\r\n\r\n      try {\r\n\r\n        const resp = await backendConnect.post(\r\n          \"/api/material\",\r\n          { materialForm, imgOne, userDivision, id },\r\n          { headers: { \"x-token\": localStorage.getItem(\"token\") } }\r\n        );\r\n\r\n        materialId.value = resp.data.id;\r\n        nice.value = true;\r\n        errors.value = false;\r\n\r\n        return { errors, nice, materialId };\r\n      } catch (error) {\r\n        if (error.response.data.msg) {\r\n          errors.value = error.response.data.msg;\r\n          materialId.value = null;\r\n          nice.value = false;\r\n          return { errors, nice, materialId };\r\n        }\r\n        if (error.response.data.errors) {\r\n          const msgErr = [];\r\n          const errorsDB = error.response.data.errors;\r\n          for (const error of errorsDB) {\r\n            msgErr.push(\" \" + error.msg);\r\n          }\r\n          errors.value = msgErr;\r\n          materialId.value = null;\r\n          nice.value = false;\r\n          return { errors, nice, materialId };\r\n        } else {\r\n          materialId.value = resp.data.id;\r\n          errors.value = false;\r\n          nice.value = true;\r\n          return { errors, nice, materialId };\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return {\r\n    errors,\r\n    sendForum,\r\n    materialId,\r\n    nice,\r\n  };\r\n};\r\n\r\nexport default sendMaterial;\r\n","import { render } from \"./CreateMaterial.vue?vue&type=template&id=43b49082&scoped=true\"\nimport script from \"./CreateMaterial.vue?vue&type=script&lang=js\"\nexport * from \"./CreateMaterial.vue?vue&type=script&lang=js\"\n\nimport \"./CreateMaterial.vue?vue&type=style&index=0&id=43b49082&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Gorilla Setups\\\\Desktop\\\\control-proyect\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-43b49082\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_2","_createElementBlock","_hoisted_3","__exports__","render","for","type","$setup","_createBlock","_component_loader","onSubmit","_hoisted_6","transport_number","$event","maxlength","_hoisted_8","code","_hoisted_10","cantidad","_hoisted_12","cantidad_bultos","_hoisted_14","destination","_Fragment","_renderList","key","nombre","value","id","_hoisted_15","onChange","accept","_hoisted_17","_toDisplayString","_hoisted_19","getDestinations","destinations","ref","status","secondStatus","searchDestinations","async","data","backendConnect","headers","localStorage","getItem","destinationsArray","destinationsDB","push","ok","uploadImageOne","imageOne","formData","FormData","append","axios","secure_url","error","console","log","sendMaterial","errors","materialId","nice","sendForum","materialForm","imgOne","userDivision","resp","response","msg","msgErr","errorsDB","components","Loader","setup","localImageOne","imgOneName","userId","useAuth","getDestination","uploadOne","watch","Swal","title","allowOutsideClick","check","text","icon","pictureOne","then","result","location","reload","onImageOne","file","event","target","files","name","fr","FileReader","onload","readAsDataURL"],"sourceRoot":""}